---
output: word_document
---

# Project description for DST application

## Autoriseret institution / Authorised institution

Steno Diabetes Center Aarhus (inst. nr. 574)  
Hedeager 3, 2. sal  
8200 Aarhus  
Denmark  

## Projekttitel / Project title

MELD project: Metabolic consequences of early life adversity and subsequent risk
for type 2 diabetes

## Projektbeskrivelse / Project description

This project aims to investigate the link between early life
conditions, later adult metabolic capacity, and risk for adult cardiometabolic
diseases such as type 2 diabetes. We know from previous studies that early
life conditions, which include family environment, family connections,
parental socioeconomic position, maternal health and behaviours, and chronic or
acute illnesses in the family, has a strong influence on risk for diseases
such as diabetes however we don't know how that links with general metabolic 
capacity.

We want to link register-based data such as diagnosis of disease and early life 
conditions with cohort-based data that includes high dimensional metabolic data.
There are few resources and available long-term data on early life conditions in
humans outside of Denmark and other Scandinavian registers. This makes the
Danish registers ideal for investigating this area of human health.



## Population / Population

The exposure time period of interest is from conception until about 7 years of age.
So the population of interest would be all individuals born after (1968?) until
the present time that have data on their parents 1 year before the
individual's birth and until 7 years of age.

TODO: Justify why here. Maybe give an estimate to population number?

## Variabelindhold / Variables included

```{r setup, include=FALSE}
library(tidyverse)
# library(gt)
variable_list <- read_csv(here::here("data/registries-general-variables.csv"))
authorized_researchers <-
    read_csv(
        here::here("data/authorized-researchers.csv"),
        col_types = cols(.default = col_character())
    )
knitr::opts_chunk$set(echo = FALSE)
options(knitr.kable.NA = "")
```

Registers requested are:

```{r register-list, results="asis"}
variable_list %>% 
    glue::glue_data("- {register_english} / {register_danish} ({register_abbreviation})") %>% 
    unique() %>%
    str_remove(" \\(NA\\)") %>% 
    str_remove(" \\/ NA") %>% 
    sort() %>% 
    cat(sep = "\n")
```

General variables requested are:

- Specific exposure variables during individual's exposure time period: 
    - Parental socio-economic
        - Household income
        - Educational attainment
        - Parental unemployment
        - Household poverty
        - Social housing
    - Parental health:
        - Death
        - Severe illness (how to define that further?)
        - Severe psychiatric illness
        - Alcohol and drug abuse
    - Maternal:
        - Smoking during pregnancy and breastfeeding
        - Breastfeeding
    - Parental conditions
        - Divorce
        - Separation
        - Single parent
        - Spousal abuse or injuries
        - Number of times moved
    - Emigration
    - Neighbourhood-level:
        - General income/poverty
        - General crime/safety (possible?)
    - Individual:
        - Severe illness or injury
        - Foster care
    - Sibling:
        - Psychiatric illness
        - Severe illness

- Potential exposure indicators:
    - Birthweight
    - Birth length
    - Height from multiple periods in life
    - Leg length (from cohorts)
    - Weight from multiple periods in life

- Other variables:
    - Year of birth
    - Month of birth
    - Birth order
    - Number of siblings
    - Parental age
    - Ethnicity
    - Sex
    - Medical data from pregnancy, at birth, and in first years
    - Date of birth

- Outcome variable:
    - Age at diabetes diagnosis 
    - Diabetes status at any given time

Exact variables requested from each register are listed in the section below
along with the justification for requesting them.

<!-- Please also include information on external data or own survey data if such -->
<!-- data is part of the project. In such cases please include approval from the -->
<!-- Danish Protection Agency. -->

## Data som ikke kommer fra Danmarks Statistik / Data that doesn't come from DST

List cohorts:

## Projekts slutdato / Project's end date

Date of deletion of data: Access to data is requested until December 2023.

## Autoriserede forskere / Authorised scientists

```{r}
knitr::kable(authorized_researchers)
```

# List of registers and variables, with explanations

```{r justification-table, echo=FALSE}
variable_list %>% 
    dplyr::filter(use_in_study == "yes") %>% 
    group_by(register_english) %>% 
    mutate(Register = ifelse(row_number() == 1, register_english, "")) %>% 
    ungroup() %>% 
    select(Register, Variable = variable_english, Explanation = explanation) %>% 
    knitr::kable(caption = "Explanation for requested selected variables and registers.")
    # gt() %>% 
    # tab_style(
    #     style = cell_text(weight = "bold"),
    #     locations = cells_row_groups()
    # ) %>% 
    # tab_style(
    #     style = cell_text(weight = "bold"),
    #     locations = cells_column_labels(everything())
    # ) %>% 
    # tab_header("Explanation for requested selected variables and registers.") %>% 
    # cols_label(variable_english = "Variable in English", explanation = "Explanation")
```
