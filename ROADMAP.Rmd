# Project roadmap

## Objectives

```{r, child="objectives.Rmd"}
```

## Action plan

### Deliverables

1. DST data request application
2. Archived Git repository and submitted report on study protocol
3. Archived Git repository and submitted report on objective 5
4. Archived Git repository and submitted report on:
    a. Objective 1 on major familial and personal events
    b. Objective 1 on chronic familial and personal conditions
    c. Objective 2 and 4 on major familial and personal events
    d. Objective 2 and 4 on chronic familial and personal conditions
5. Archived Git repository and submitted report on objective 3

### Milestones

```{r setup, include=FALSE}
library(readr)
library(dplyr)
library(gt)
library(fontawesome)
source(here::here("R/gantt.R"))
conflicted::conflict_prefer("filter", "dplyr", quiet = TRUE)
tasks <- read_csv(here::here("resources/tasks.csv"),
         col_types = cols_only(
             deliverable = "c",
             task_name = "c",
             priority = "c",
             status = "c",
             task_label = "c",
             start_date = "c",
             end_date = "c",
             is_milestone = "l"
         )) 
htmltools::tagList(rmarkdown::html_dependency_font_awesome())
```

```{r tab-milestones}
# empty_box <- '<i class="far fa-square"></i>'
# checked_box <- '<i class="far fa-check-square"></i>'
tasks %>% 
    filter(is_milestone) %>% 
    select(deliverable, status, task_name) %>% 
    arrange(deliverable) %>% 
    # mutate(status = if_else(status %in% c("") | is.na(status),
    #                         empty_box, checked_box)) %>%
    rename(Task = task_name, Status = status) %>% 
    gt(rowname_col = "row", groupname_col = "deliverable") %>%
    fmt_missing(columns = everything(), missing_text = "") %>% 
    tab_header(title = "Project milestones")
```

### Timeline

```{r fig-gantt-chart, fig.height=10, fig.width=8}
tasks %>% 
    filter(deliverable %in% c("D1", "D2")) %>% 
    create_gantt_chart()
```

